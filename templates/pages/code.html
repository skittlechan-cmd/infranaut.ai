{% extends 'base.html' %}

{% block title %}Code Intelligence | Infranaut.ai{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/code.css') }}">
{% endblock %}

{% block content %}
    <!-- Hero Section -->
    <section class="hero is-fullheight-with-navbar standard-section">
        <div class="hero-body">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="lg:grid lg:grid-cols-12 lg:gap-8">
                    <div class="lg:col-span-6 flex flex-col justify-center">
                        <h1 class="text-4xl md:text-5xl font-bold leading-tight mb-6">
                            AI-Powered <span class="text-gradient">Code Intelligence</span>
                        </h1>
                        <p class="text-xl text-gray-600 mb-8">
                            Understanding, explaining, and improving your codebase with machine learning.
                            The Pilot that knows your code inside out.
                        </p>
                        <div class="flex flex-col sm:flex-row gap-4 buttons">
                            <a href="#features" class="button is-primary infra-primary-btn">
                                <span class="icon">
                                    <i class="fas fa-code"></i>
                                </span>
                                <span>Explore Features</span>
                            </a>
                            <a href="#demo" class="button is-outlined infra-outlined-btn">
                                <span class="icon">
                                    <i class="fas fa-play"></i>
                                </span>
                                <span>See Demo</span>
                            </a>
                        </div>
                        <div class="trusted-by mt-6">
                            <p>Trusted by engineering teams across industries</p>
                            <div class="trusted-logos">
                                <span class="trusted-logo">GitHub</span>
                                <span class="trusted-logo">GitLab</span>
                                <span class="trusted-logo">BitBucket</span>
                                <span class="trusted-logo">VS Code</span>
                                <span class="trusted-logo">JetBrains</span>
                            </div>
                        </div>
                    </div>
                    <div class="mt-12 lg:mt-0 lg:col-span-6">
                        <div class="code-sample reveal-on-scroll">
                            <div class="code-header">
                                <div class="code-dots">
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                </div>
                                <div class="code-title">main.py</div>
                            </div>
                            <pre><code># Complex legacy function
def process_data(data, config=None):
    # What does this do? Infranaut explains:
    result = {}
    if config is None:
        config = DEFAULT_CONFIG
    # ...more code...
    
    # Infranaut suggests:
    # "Split this function into smaller units
    # with clear single responsibilities"</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Features - Timeline Style -->
    <section id="features" class="section bg-light py-16">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="has-text-centered mb-16">
                <h2 class="text-3xl font-bold mb-4">
                    Understand Your Code Like Never Before
                </h2>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                    Our AI analyzes your codebase at a deeper level than traditional tools, giving you insights that save hours of development time.
                </p>
            </div>
            
            <div class="timeline-container">
                <!-- Feature 1 -->
                <div class="timeline-item reveal-on-scroll">
                    <div class="timeline-marker"></div>
                    <div class="timeline-content">
                        <div class="code-feature-card">
                            <div class="card-content">
                                <div class="columns is-vcentered is-multiline">
                                    <div class="column is-12-mobile is-5-tablet">
                                        <div class="code-feature-icon">
                                            <i class="fas fa-brain fa-2x"></i>
                                        </div>
                                        <h3 class="title is-4 mb-4">Local AI Code Understanding</h3>
                                        <p class="subtitle is-6 mb-4">
                                            AI that comprehends your code at a semantic level, explaining complex functions without relying on external services.
                                        </p>
                                        <div class="service-feature-list">
                                            <div class="service-feature-item">
                                                <i class="fas fa-check feature-check"></i>
                                                <span>Private, secure analysis</span>
                                            </div>
                                            <div class="service-feature-item">
                                                <i class="fas fa-check feature-check"></i>
                                                <span>Multi-language support</span>
                                            </div>
                                            <div class="service-feature-item">
                                                <i class="fas fa-check feature-check"></i>
                                                <span>Contextual explanations</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="column is-12-mobile is-7-tablet">
                                        <div class="code-sample">
                                            <div class="code-header">
                                                <div class="code-dots">
                                                    <span></span>
                                                    <span></span>
                                                    <span></span>
                                                </div>
                                                <div class="code-title">explain_code.js</div>
                                                <div class="code-tag">Understanding</div>
                                            </div>
                                            <pre><code>// What does this do?
const processItems = (items, opts = {}) => {
  return items
    .filter(i => !i.deleted || opts.includeDeleted)
    .map(i => ({...i, timestamp: i.timestamp || Date.now()}))
    .sort((a, b) => b.timestamp - a.timestamp);
};

// Infranaut explains:
// "This function filters out deleted items (unless 
// includeDeleted is set), adds timestamps to items 
// that don't have one, and sorts by timestamp 
// in descending order (newest first)."</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Feature 2 -->
                <div class="timeline-item reveal-on-scroll delay-200">
                    <div class="timeline-marker"></div>
                    <div class="timeline-content">
                        <div class="code-feature-card">
                            <div class="card-content">
                                <div class="columns is-vcentered is-multiline">
                                    <div class="column is-12-mobile is-7-tablet">
                                        <div class="code-sample">
                                            <div class="code-header">
                                                <div class="code-dots">
                                                    <span></span>
                                                    <span></span>
                                                    <span></span>
                                                </div>
                                                <div class="code-title">user_service.py</div>
                                                <div class="code-tag">Generated Docs</div>
                                            </div>
                                            <pre><code>def authenticate_user(username, password, mfa_token=None):
    """
    Authenticates a user with provided credentials.
    
    Args:
        username (str): User's email or username
        password (str): User's password
        mfa_token (str, optional): Multi-factor auth token
            
    Returns:
        dict: User session data if authenticated
        
    Raises:
        AuthError: If credentials are invalid
        MFARequired: If MFA verification is needed
    """
    # Function code here...
    
# Docstring auto-generated by Infranaut</code></pre>
                                        </div>
                                    </div>
                                    <div class="column is-12-mobile is-5-tablet">
                                        <div class="code-feature-icon">
                                            <i class="fas fa-file-code fa-2x"></i>
                                        </div>
                                        <h3 class="title is-4 mb-4">Auto-generation of Documentation</h3>
                                        <p class="subtitle is-6 mb-4">
                                            Automatically generate comprehensive docstrings, READMEs, and usage examples for your code.
                                        </p>
                                        <div class="service-feature-list">
                                            <div class="service-feature-item">
                                                <i class="fas fa-check feature-check"></i>
                                                <span>Follows language conventions</span>
                                            </div>
                                            <div class="service-feature-item">
                                                <i class="fas fa-check feature-check"></i>
                                                <span>Includes type hints</span>
                                            </div>
                                            <div class="service-feature-item">
                                                <i class="fas fa-check feature-check"></i>
                                                <span>Creates example usage</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Tools Integration Section -->
    <section class="section py-16">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="has-text-centered mb-16 reveal-on-scroll">
                <h2 class="text-3xl font-bold mb-4">
                    Integrated Development Environments
                </h2>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                    Seamlessly work with your favorite development tools for maximum productivity
                </p>
            </div>
            <div class="columns is-multiline is-centered">
                <div class="column is-6-tablet is-3-desktop">
                    <div class="feature-card reveal-on-scroll delay-100">
                        <div class="feature-icon">
                            <i class="fas fa-code"></i>
                        </div>
                        <h3 class="title is-4 mb-4 has-text-centered">VS Code</h3>
                        <p class="has-text-centered">Native integration with VS Code for seamless code analysis without switching contexts.</p>
                    </div>
                </div>
                <div class="column is-6-tablet is-3-desktop">
                    <div class="feature-card reveal-on-scroll delay-200">
                        <div class="feature-icon">
                            <i class="fab fa-github"></i>
                        </div>
                        <h3 class="title is-4 mb-4 has-text-centered">GitHub</h3>
                        <p class="has-text-centered">Direct integration with GitHub for pull request analysis and code reviews.</p>
                    </div>
                </div>
                <div class="column is-6-tablet is-3-desktop">
                    <div class="feature-card reveal-on-scroll delay-300">
                        <div class="feature-icon">
                            <i class="fab fa-python"></i>
                        </div>
                        <h3 class="title is-4 mb-4 has-text-centered">JetBrains IDEs</h3>
                        <p class="has-text-centered">Full support for PyCharm, IntelliJ, WebStorm and other JetBrains products.</p>
                    </div>
                </div>
                <div class="column is-6-tablet is-3-desktop">
                    <div class="feature-card reveal-on-scroll delay-400">
                        <div class="feature-icon">
                            <i class="fas fa-terminal"></i>
                        </div>
                        <h3 class="title is-4 mb-4 has-text-centered">CLI Tools</h3>
                        <p class="has-text-centered">Powerful command-line interface for batch processing and CI/CD pipeline integration.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Demo Section -->
    <section id="demo" class="section infra-monitoring-section py-16">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="has-text-centered mb-16 reveal-on-scroll">
                <h2 class="text-3xl font-bold mb-4">
                    See It In Action
                </h2>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                    Experience the power of AI-driven code intelligence firsthand
                </p>
            </div>
            <div class="columns is-vcentered">
                <div class="column is-5-desktop reveal-on-scroll">
                    <div class="monitoring-content">
                        <h3 class="text-3xl font-bold mb-6">Ask About Your Codebase</h3>
                        <p class="text-lg text-gray-600 mb-8">Infranaut.ai can answer complex questions about your code, helping you understand unfamiliar codebases quickly.</p>
                    </div>
                </div>
                <div class="column is-7-desktop reveal-on-scroll delay-200">
                    <div class="code-sample">
                        <div class="code-header">
                            <div class="code-dots">
                                <span></span>
                                <span></span>
                                <span></span>
                            </div>
                            <div class="code-title">Code Q&A Demo</div>
                        </div>
                        <pre><code class="language-markdown">Q: How is authentication handled in this codebase?

A: Authentication is implemented using JWT tokens in the 
`auth_service.py` module. The flow works as follows:

1. Users log in via `/api/auth/login` endpoint
2. Credentials are verified against the database
3. A JWT token is generated with user permissions
4. Token is returned to the client for future requests
5. Protected endpoints verify the token in middleware

The token expires after 24 hours, and there's also refresh 
token functionality in the `refresh_token()` function.</code></pre>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    {% include 'components/cta.html' %}
{% endblock %}