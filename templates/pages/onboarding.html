{% extends 'base.html' %}

{% block title %}AI-Powered Onboarding & Knowledge Sharing | Infranaut.ai{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/onboarding.css') }}">
{% endblock %}

{% block content %}
    <!-- Hero Section with Knowledge Graph Background -->
    <section class="hero is-medium onboarding-hero">
        <div class="knowledge-graph-bg"></div>
        <div class="hero-body pt-12 pb-16">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="lg:grid lg:grid-cols-12 lg:gap-12 items-center"> {# Increased gap slightly #}
                    <div class="lg:col-span-6 slide-in-up">
                        <h1 class="text-4xl md:text-5xl font-bold leading-tight mb-6">
                            <span class="gradient-text gradient-text-workflow gradient-text-hover">Smart Onboarding & Knowledge Sharing</span>
                        </h1>
                        <p class="text-xl text-gray-600 mb-6"> {# Reduced bottom margin #}
                            Get new team members productive faster with AI-curated documentation, interactive tutorials, and an intelligent knowledge base.
                        </p>
                        {# NEW: Benefit Bullets #}
                        <ul class="space-y-2 mb-8 text-gray-600">
                            <li class="flex items-start">
                                <svg class="w-5 h-5 text-primary mt-1 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>
                                <span>Accelerate time-to-productivity for new hires.</span>
                            </li>
                            <li class="flex items-start">
                               <svg class="w-5 h-5 text-primary mt-1 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>
                                <span>Reduce repetitive questions and support load on senior staff.</span>
                            </li>
                             <li class="flex items-start">
                                <svg class="w-5 h-5 text-primary mt-1 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>
                                <span>Ensure consistent knowledge access across your entire team.</span>
                            </li>
                        </ul>
                        <div class="flex flex-col sm:flex-row gap-4">
                            <a href="#try-free" class="button is-primary infra-primary-btn glow-effect">
                                Try For Free
                            </a>
                            <a href="#schedule-demo" class="button is-outlined infra-outlined-btn glass-effect">
                                Schedule a Demo
                            </a>
                        </div>
                    </div>
                    <div class="lg:col-span-6 slide-in-up" data-delay="0.1s"> {# Use data-delay #}
                        <div class="hero-image-container mt-8 lg:mt-0"> {# Add margin top on mobile #}
                            <img src="{{ url_for('static', filename='css/images/onboard.jpeg') }}"
                                 alt="AI Knowledge Assistant visualizing connections"
                                 class="hero-image rounded-lg shadow-xl" {# Added styling #}
                                 loading="lazy">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Interactive Features Section -->
    <section id="features" class="section py-16 md:py-20 glass-section">
        <div class="glass-blur-bg"></div>
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="has-text-centered mb-16 slide-in-up">
                <h2 class="text-3xl md:text-4xl font-bold mb-4">Intelligent Knowledge Management</h2>
                <div class="gradient-line"></div>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto mt-6">
                    Turn scattered information into an accessible, intelligent knowledge hub that empowers your team.
                </p>
            </div>

            <div class="knowledge-grid">
                <!-- Smart FAQ/Chat -->
                <div class="knowledge-card slide-in-up" data-delay="0s">
                    <div class="card-glow"></div>
                    <div class="card-content">
                        <div class="feature-icon-wrapper">
                            <svg class="feature-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path></svg>
                        </div>
                        <h3 class="text-xl font-semibold mb-3">AI Knowledge Assistant</h3>
                        <p class="text-gray-600">
                            Instant, context-aware answers. Ask questions in natural language about code, processes, and documentation.
                        </p>
                    </div>
                </div>

                <!-- Doc Generation -->
                <div class="knowledge-card slide-in-up" data-delay="0.1s">
                    <div class="card-glow"></div>
                    <div class="card-content">
                        <div class="feature-icon-wrapper">
                             <svg class="feature-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                        </div>
                        <h3 class="text-xl font-semibold mb-3">Smart Documentation</h3>
                        <p class="text-gray-600">
                           Keep documentation alive. AI automatically suggests updates and generates summaries from code and conversations.
                        </p>
                    </div>
                </div>

                <!-- Progress Tracking -->
                <div class="knowledge-card slide-in-up" data-delay="0.2s">
                    <div class="card-glow"></div>
                    <div class="card-content">
                        <div class="feature-icon-wrapper">
                           <svg class="feature-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path></svg>
                        </div>
                        <h3 class="text-xl font-semibold mb-3">Personalized Onboarding</h3>
                        <p class="text-gray-600">
                            Guide new hires with tailored learning paths, interactive checklists, and progress monitoring powered by AI insights.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

     <!-- NEW: How It Works Section -->
    <section id="how-it-works" class="section py-16 md:py-20 bg-white">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16 slide-in-up">
                <span class="text-sm font-semibold uppercase tracking-wider text-primary mb-2 block">HOW IT WORKS</span>
                <h2 class="text-3xl md:text-4xl font-bold mb-4">Simple Steps to Intelligent Knowledge</h2>
                <div class="gradient-line"></div>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto mt-6">
                    Connect your data sources, let our AI engine work its magic, and empower your team.
                </p>
            </div>

            <div class="how-it-works-grid">
                <!-- Step 1 -->
                <div class="step-card slide-in-up" data-delay="0s">
                    <div class="step-icon-wrapper">
                       <svg class="step-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"></path></svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-2">1. Ingest Data</h3>
                    <p class="text-gray-600">Connect code repositories (GitHub, GitLab), documentation (Confluence, Google Docs), Slack channels, and more.</p>
                </div>
                <!-- Step 2 -->
                 <div class="step-card slide-in-up" data-delay="0.1s">
                    <div class="step-icon-wrapper">
                       <svg class="step-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-2">2. AI Analyzes</h3>
                    <p class="text-gray-600">Our AI builds a knowledge graph, understands context, identifies experts, and structures information.</p>
                </div>
                <!-- Step 3 -->
                 <div class="step-card slide-in-up" data-delay="0.2s">
                    <div class="step-icon-wrapper">
                        <svg class="step-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"></path></svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-2">3. Team Interacts</h3>
                    <p class="text-gray-600">Users ask questions, get curated docs, follow onboarding paths, and discover relevant knowledge instantly.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Interactive Demo Section -->
    <section id="demo" class="section py-16 md:py-20 interactive-demo-section bg-light"> {# Added bg-light #}
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="columns is-vcentered">
                <div class="column is-5 slide-in-up" data-delay="0s">
                    <h2 class="text-3xl md:text-4xl font-bold mb-6">Interactive Knowledge Portal</h2>
                    <div class="gradient-line mb-6"></div>
                    <p class="text-lg text-gray-600 mb-8">
                        Experience how our AI assistant helps team members get up to speed quickly by providing contextual answers and guidance, right within their workflow.
                    </p>
                    <div class="chat-demo glass-effect">
                        <div class="chat-message user-message">
                            "How do I set up project X for local development?"
                        </div>
                        <div class="chat-message ai-message">
                            {# REMOVED Typing Indicator Div #}
                            <div class="ai-response"> {# Response shows directly now #}
                                Here's a step-by-step guide based on our latest `README.md` and setup scripts:
                                <ol class="mt-2 list-decimal list-inside text-sm space-y-1"> {# More specific list style #}
                                    <li>Clone the repository: `git clone ...`</li>
                                    <li>Install dependencies: `npm install`</li>
                                    <li>Configure environment variables (see `.env.example`)</li>
                                    <li>Run database migrations: `npm run db:migrate`</li>
                                    <li>Start the dev server: `npm run dev`</li>
                                </ol>
                                <p class="mt-2 text-sm">Would you like me to show you the relevant section in the documentation?</p> {# Refined follow-up #}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="column is-7 slide-in-up" data-delay="0.1s">
                    <div class="knowledge-portal-frame">
                        <div class="frame-header">
                            <div class="frame-dots"><span></span><span></span><span></span></div>
                            <span class="frame-title">Infranaut Knowledge Hub</span> {# Optional title #}
                        </div>
                        <div class="frame-content">
                            {# UPDATED: Dashboard Placeholder #}
                            <div class="content-placeholder dashboard-placeholder">
                                <div class="placeholder-wave"></div>
                                <div class="dashboard-grid">
                                    <div class="dashboard-module slide-in-up" data-delay="0.2s">
                                        <h4 class="module-title">🚀 My Onboarding Tasks</h4>
                                        <ul class="module-list">
                                            <li><span class="task-icon done">✅</span> Setup Dev Environment</li>
                                            <li><span class="task-icon pending">⏳</span> Review Architecture Docs</li>
                                            <li><span class="task-icon pending">⚪</span> Complete Security Training</li>
                                        </ul>
                                    </div>
                                    <div class="dashboard-module slide-in-up" data-delay="0.3s">
                                        <h4 class="module-title">📚 Key Documents</h4>
                                        <ul class="module-list">
                                            <li>📄 Project X README.md</li>
                                            <li>📄 API Style Guide</li>
                                            <li>📄 Deployment Process</li>
                                        </ul>
                                    </div>
                                     <div class="dashboard-module full-width slide-in-up" data-delay="0.4s">
                                        <h4 class="module-title">🤖 Ask AI Assistant</h4>
                                        <div class="ai-ask-box">
                                            <span>e.g., "What's the process for a hotfix?"</span>
                                            <button class="ask-button">Ask</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Mouse move effect for knowledge cards
    const cards = document.querySelectorAll('.knowledge-card');
    cards.forEach(card => {
        card.addEventListener('mousemove', (e) => {
            const rect = card.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            card.style.setProperty('--mouse-x', `${x}px`);
            card.style.setProperty('--mouse-y', `${y}px`);
        });
    });

    // REMOVED Simulate typing animation function (typeMessage)

    // Intersection Observer for slide-in animations
    const slideUpElements = document.querySelectorAll('.slide-in-up');

    const observerOptions = {
        root: null, // Viewport
        rootMargin: '0px 0px -50px 0px', // Trigger slightly before element bottom hits viewport bottom
        threshold: 0 // Trigger as soon as any part enters the margin
    };

    const observerCallback = (entries, observer) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                // Apply delay from data-delay attribute or inline style
                const delay = entry.target.dataset.delay || entry.target.style.transitionDelay || '0s';
                entry.target.style.setProperty('--slide-delay', delay);

                entry.target.classList.add('is-visible');
                observer.unobserve(entry.target); // Stop observing once visible
            }
        });
    };

    const slideObserver = new IntersectionObserver(observerCallback, observerOptions);
    slideUpElements.forEach(el => slideObserver.observe(el));

});
</script>
{% endblock %}